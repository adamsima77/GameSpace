import{I as r}from"./ItemsShow-mIO7d3Oz.js";import{_ as a,f as n,r as l,o as h}from"./index-DioUgQHd.js";import"./Item-C6WkvU7u.js";const c={data(){return{games:[],currentPosition:null,loading:!1,offset:0,limit:15,allLoaded:!1,currentFilter:null}},methods:{async fetchGames(t){try{if(this.loading||this.allLoaded)return;this.loading=!0;const e=await this.$axios.get("http://localhost/GameSpace/endpoints/fetch/fetch_games.php",{params:{limit:this.limit,offset:this.offset,filter:t},withCredentials:!1});this.games.push(...e.data),this.offset+=this.limit,e.data.length<this.limit&&(this.allLoaded=!0)}catch{}this.loading=!1},DetectPosition(){this.currentPosition=window.scrollY,this.currentPosition>=document.body.offsetHeight-50&&this.fetchGames(this.currentFilter)},fetchWithFilter(t){this.games=[],this.offset=0,this.allLoaded=!1,this.currentFilter=t,this.fetchGames(this.currentFilter)}},mounted(){window.addEventListener("scroll",this.DetectPosition),this.fetchGames(this.currentFilter)},beforeUnmount(){window.removeEventListener("scroll",this.DetectPosition)},components:{ItemsShow:r}};function f(t,e,m,d,i,o){const s=l("ItemsShow");return h(),n(s,{item:i.games,title:"Hry",desc:`Objav široký výber hier pre všetky platformy a vekové kategórie. Či už hľadáš akčné dobrodružstvá, logické výzvy, športové hry alebo zábavu pre celú rodinu, u nás si určite vyberieš. Nájdeš tu obľúbené tituly aj novinky, ktoré ti \r
    prinesú hodiny zábavy doma aj s priateľmi. Vyber si hru, ktorá ťa bude baviť najviac.`,"parent-route-name":"item-detail",loading:this.loading,onFilterChange:o.fetchWithFilter},null,8,["item","loading","onFilterChange"])}const v=a(c,[["render",f]]);export{v as default};

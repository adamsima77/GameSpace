import{A as i}from"./AdminTable-BXLm3vnW.js";import{_ as c,c as n,b as s,d as p,r,o as m}from"./index-CyFD_r_B.js";const g={data(){return{res:[],total_pages:0,actual_page:1,limit:10}},methods:{async fetchItems(){const e=await this.$axios.get("http://localhost/GameSpace/endpoints/fetch/fetchItemsAdmin.php",{params:{limit:this.limit,offset:this.limit*(this.actual_page-1)},withCredentials:!1});this.res=e.data},async getTotalPages(){try{const e=await this.$axios.get("http://localhost/GameSpace/endpoints/fetch/getTotalPagesItemsAdmin.php",{withCredentials:!1});this.total_pages=e.data.total_pages}catch{}},async changePage(e){this.actual_page=e,await this.fetchItems()}},mounted(){this.getTotalPages(),this.fetchItems()},components:{AdminTable:i}},d={class:"wrapper"},h={class:"wrapp"};function _(e,a,u,y,t,l){const o=r("AdminTable");return m(),n("div",d,[s("div",h,[a[0]||(a[0]=s("h1",null,"Produkty",-1)),p(o,{onPage:l.changePage,columns:[{label:"ID",key:"idItems"},{label:"Názov produktu",key:"name"},{label:"Image",key:"img"},{label:"Image alt",key:"alt"},{label:"Dátum vydania",key:"release_date"},{label:"Slug",key:"slug"},{label:"Počet kusov",key:"stock"},{label:"Cena",key:"price"},{label:"Popis",key:"description"},{label:"HTML popis",key:"html_description"},{label:"Dostupnosť",key:"available"},{label:"Kategória",key:"category"},{label:"Platformy",key:"platforms"}],records:t.res,total_pages:t.total_pages,limit:t.limit,actual_page:t.actual_page},null,8,["onPage","records","total_pages","limit","actual_page"])])])}const k=c(g,[["render",_],["__scopeId","data-v-3b614e54"]]);export{k as default};

import{A as r}from"./AdminTable-BXLm3vnW.js";import{_ as i,c,b as s,d as n,r as p,o as d}from"./index-CyFD_r_B.js";const h={data(){return{res:[],total_pages:0,actual_page:1,limit:10}},methods:{async fetchOrders(){const e=await this.$axios.get("http://localhost/GameSpace/endpoints/fetch/fetchOrdersAdmin.php",{params:{limit:this.limit,offset:this.limit*(this.actual_page-1)},withCredentials:!1});this.res=e.data},async getTotalPages(){try{const e=await this.$axios.get("http://localhost/GameSpace/endpoints/fetch/fetchTotalPagesOrdersAdmin.php",{withCredentials:!1});this.total_pages=e.data.total_pages}catch{}},async changePage(e){this.actual_page=e,await this.fetchOrders()}},mounted(){this.getTotalPages(),this.fetchOrders()},components:{AdminTable:r}},_={class:"wrapper"},m={class:"wrapp"};function g(e,a,f,u,t,o){const l=p("AdminTable");return d(),c("div",_,[s("div",m,[a[0]||(a[0]=s("h1",null,"Objednávky",-1)),n(l,{onPage:o.changePage,columns:[{label:"ID",key:"idOrders"},{label:"Vytvorenie objednávky",key:"creation_date"},{label:"Posledná úprava",key:"last_update"},{label:"Status",key:"status"},{label:"Celková cena",key:"total_price"}],records:t.res,total_pages:t.total_pages,limit:t.limit,actual_page:t.actual_page},null,8,["onPage","records","total_pages","limit","actual_page"])])])}const k=i(h,[["render",g],["__scopeId","data-v-20080cb4"]]);export{k as default};

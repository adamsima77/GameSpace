import{_ as y,c,b as t,n as u,o as n,d as l,a as v,f as b,r as _,F as w,e as g,t as d,w as h,u as x,h as Q}from"./index-CyFD_r_B.js";const F={props:["active"]},V={class:"steps"};function B(s,e,r,f,o,i){return n(),c("div",V,[t("div",{class:u(["step",{active:r.active==1,completed:r.active==2||r.active==3}])},[...e[0]||(e[0]=[t("p",null,"1",-1),t("span",null,"Košík",-1)])],2),e[3]||(e[3]=t("div",{class:"line"},null,-1)),t("div",{class:u(["step",{active:r.active==2,completed:r.active==3}])},[...e[1]||(e[1]=[t("p",null,"2",-1),t("span",null,"Doručenie",-1)])],2),e[4]||(e[4]=t("div",{class:"line"},null,-1)),t("div",{class:u(["step",{active:r.active==3}])},[...e[2]||(e[2]=[t("p",null,"3",-1),t("span",null,"Platba",-1)])],2)])}const N=y(F,[["render",B],["__scopeId","data-v-1085089e"]]),q={data(){return{active:1,cartStore:null}},created(){this.cartStore=x(),this.cartStore.fetchCart()},watch:{$route(s,e){switch(s.name){case"cart":this.active=1;break;case"delivery":this.active=2;break;case"checkout":this.active=3;break;default:this.active=1}}},computed:{cart_content(){return this.cartStore.cart}},methods:{removeFromCart(s){this.cartStore.removeFromCart(s)},decrementQuantity(s){this.cartStore.decrementQuantity(s)},addQuantity(s){this.cartStore.addQuantity(s)}},mounted(){switch(this.$route.name){case"cart":this.active=1;break;case"delivery":this.active=2;break;case"checkout":this.active=3;break;default:this.active=1}},components:{CartSteps:N}},L={key:0,class:"wrapper"},P={key:0,class:"cart"},j=["src","alt"],z={class:"quantity"},D=["onClick"],I=["onClick"],K={class:"price_trash"},R=["onClick"],E={class:"total"},M={key:1,class:"wrapper"};function T(s,e,r,f,o,i){const p=_("CartSteps"),k=_("RouterLink"),C=_("router-view");return i.cart_content.length>0?(n(),c("div",L,[l(p,{active:o.active},null,8,["active"]),o.active==1?(n(),c("div",P,[e[0]||(e[0]=t("h1",null,"Produkty v košíku",-1)),(n(!0),c(w,null,g(i.cart_content,(a,S)=>(n(),c("div",{class:"box",key:S},[t("img",{src:a.image,alt:a.alt},null,8,j),l(k,{to:{name:"cart-item-detail",params:{slug:a.slug}}},{default:h(()=>[t("h2",null,d(a.name),1)]),_:2},1032,["to"]),t("div",z,[a.quantity>0?(n(),c("button",{key:0,onClick:m=>i.decrementQuantity(a.id)},"-",8,D)):v("",!0),t("p",null,d(a.quantity),1),t("button",{onClick:m=>i.addQuantity(a.id)},"+",8,I)]),t("div",K,[t("p",null,d(a.price)+"€",1),t("i",{class:"fas fa-trash",onClick:m=>i.removeFromCart(a.id)},null,8,R)])]))),128)),t("p",E,"Výsledná cena: "+d(Math.round(o.cartStore.total*100)/100)+"€",1)])):v("",!0),l(C),o.active==1?(n(),b(k,{key:1,to:{name:"delivery"},class:"delivery"},{default:h(()=>[...e[1]||(e[1]=[Q("Prejsť na doručenie",-1)])]),_:1})):v("",!0)])):(n(),c("div",M,[l(p,{active:o.active},null,8,["active"]),e[2]||(e[2]=t("div",{class:"empty"},[t("p",null,"Košík je prázdny.")],-1))]))}const G=y(q,[["render",T],["__scopeId","data-v-4a4f36e9"]]);export{G as default};

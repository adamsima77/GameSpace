import{_ as f,c as n,b as e,n as v,o as r,d,a as u,f as b,r as _,F as w,e as g,t as l,w as h,u as x,h as Q}from"./index-DioUgQHd.js";const F={props:["active"]},P={class:"steps"};function V(s,t,o,y,c,i){return r(),n("div",P,[e("div",{class:v(["step",{active:o.active==1,completed:o.active==2||o.active==3}])},[...t[0]||(t[0]=[e("p",null,"1",-1),e("span",null,"Košík",-1)])],2),t[3]||(t[3]=e("div",{class:"line"},null,-1)),e("div",{class:v(["step",{active:o.active==2,completed:o.active==3}])},[...t[1]||(t[1]=[e("p",null,"2",-1),e("span",null,"Doručenie",-1)])],2),t[4]||(t[4]=e("div",{class:"line"},null,-1)),e("div",{class:v(["step",{active:o.active==3}])},[...t[2]||(t[2]=[e("p",null,"3",-1),e("span",null,"Platba",-1)])],2)])}const B=f(F,[["render",V],["__scopeId","data-v-1085089e"]]),N={data(){return{active:1,cartStore:null}},created(){this.cartStore=x(),this.cartStore.fetchCart()},watch:{$route(s,t){switch(s.name){case"cart":this.active=1;break;case"delivery":this.active=2;break;case"checkout":this.active=3;break;default:this.active=1}}},computed:{cart_content(){return this.cartStore.cart}},methods:{removeFromCart(s,t){this.cartStore.removeFromCart(s,t)},decrementQuantity(s,t){this.cartStore.decrementQuantity(s,t)},addQuantity(s,t){this.cartStore.addQuantity(s,t)}},mounted(){switch(this.$route.name){case"cart":this.active=1;break;case"delivery":this.active=2;break;case"checkout":this.active=3;break;default:this.active=1}},components:{CartSteps:B}},q={key:0,class:"wrapper"},I={key:0,class:"cart"},L=["src","alt"],j={key:0},z={class:"quantity"},D=["onClick"],K=["onClick"],R={class:"price_trash"},E=["onClick"],M={class:"total"},T={key:1,class:"wrapper"};function A(s,t,o,y,c,i){const p=_("CartSteps"),m=_("RouterLink"),C=_("router-view");return i.cart_content.length>0?(r(),n("div",q,[d(p,{active:c.active},null,8,["active"]),c.active==1?(r(),n("div",I,[t[0]||(t[0]=e("h1",null,"Produkty v košíku",-1)),(r(!0),n(w,null,g(i.cart_content,(a,S)=>(r(),n("div",{class:"box",key:S},[e("img",{src:a.image,alt:a.alt},null,8,L),d(m,{to:{name:"cart-item-detail",params:{slug:a.slug}}},{default:h(()=>[e("h2",null,l(a.name),1)]),_:2},1032,["to"]),a.platform_name!="Platform Independent"?(r(),n("p",j,"Platforma: "+l(a.platform_name),1)):u("",!0),e("div",z,[a.quantity>0?(r(),n("button",{key:0,onClick:k=>i.decrementQuantity(a.id,a.platform)},"-",8,D)):u("",!0),e("p",null,l(a.quantity),1),e("button",{onClick:k=>i.addQuantity(a.id,a.platform)},"+",8,K)]),e("div",R,[e("p",null,l(a.price)+"€",1),e("i",{class:"fas fa-trash",onClick:k=>i.removeFromCart(a.id,a.platform)},null,8,E)])]))),128)),e("p",M,"Výsledná cena: "+l(Math.round(c.cartStore.total*100)/100)+"€",1)])):u("",!0),d(C),c.active==1?(r(),b(m,{key:1,to:{name:"delivery"},class:"delivery"},{default:h(()=>[...t[1]||(t[1]=[Q("Prejsť na doručenie",-1)])]),_:1})):u("",!0)])):(r(),n("div",T,[d(p,{active:c.active},null,8,["active"]),t[2]||(t[2]=e("div",{class:"empty"},[e("p",null,"Košík je prázdny.")],-1))]))}const H=f(N,[["render",A],["__scopeId","data-v-4c6cf2b3"]]);export{H as default};

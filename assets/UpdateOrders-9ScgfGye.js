import{_ as n,c as p,b as e,i,h as u,j as d,q as l,g as c,o as v}from"./index-DioUgQHd.js";const h={data(){return{status:""}},methods:{checkStatus(){return["V príprave","Spracováva sa","Odoslané","Doručené","Zrušené","Zlyhalo","Vrátené"].includes(this.status)?!0:(alert("Vybraný status je nesprávny"),!1)},async fetchActual(){try{const a=await this.$axios.get("http://localhost/GameSpace/endpoints/fetch/fetch_id_update_orders.php",{params:{id:this.$route.params.id},withCredentials:!1});this.status=a.data.status}catch{}},async update(){try{if(!this.checkStatus()){alert("Zlý status!");return}(await this.$axios.post("http://localhost/GameSpace/endpoints/update/update_orders.php",{id:this.$route.params.id,status:this.status},{withCredentials:!1})).data.message==="success"?alert("Objednávka bola úspešne upravená!"):alert("Nastala chyba pri úprave objednávky!")}catch{}}},mounted(){this.fetchActual(),document.title=this.$route.params.id}},f={class:"wrapper"},m={class:"wrapp"},y={for:"title"};function S(a,t,b,V,o,r){return v(),p("div",f,[e("div",m,[t[5]||(t[5]=e("h1",null,"Upraviť stav objednávky",-1)),e("form",{method:"post",onSubmit:t[1]||(t[1]=i((...s)=>r.update&&r.update(...s),["prevent"]))},[e("label",y,[t[3]||(t[3]=u("Status objednávky: ",-1)),d(e("select",{id:"status",name:"status","onUpdate:modelValue":t[0]||(t[0]=s=>o.status=s)},[...t[2]||(t[2]=[c('<option value="V príprave" data-v-ac97566f>V príprave</option><option value="Spracováva sa" data-v-ac97566f>Spracováva sa</option><option value="Odoslané" data-v-ac97566f>Odoslané</option><option value="Doručené" data-v-ac97566f>Doručené</option><option value="Zrušené" data-v-ac97566f>Zrušené</option><option value="Zlyhalo" data-v-ac97566f>Zlyhalo</option><option value="Vrátené" data-v-ac97566f>Vrátené</option>',7)])],512),[[l,o.status]])]),t[4]||(t[4]=e("input",{type:"submit",value:"Upraviť objednávku"},null,-1))],32)])])}const k=n(h,[["render",S],["__scopeId","data-v-ac97566f"]]);export{k as default};

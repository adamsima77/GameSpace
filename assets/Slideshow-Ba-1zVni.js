import{A as i}from"./AdminTable-BXLm3vnW.js";import{_ as c,c as n,b as s,d as p,r,o as h}from"./index-CyFD_r_B.js";const d={data(){return{res:[],total_pages:0,actual_page:1,limit:10}},methods:{async fetchSlideshow(){const e=await this.$axios.get("http://localhost/GameSpace/endpoints/fetch/getSlideshowAdmin.php",{params:{limit:this.limit,offset:this.limit*(this.actual_page-1)},withCredentials:!1});this.res=e.data},async getTotalPages(){try{const e=await this.$axios.get("http://localhost/GameSpace/endpoints/fetch/getTotalPagesSlideshow.php",{withCredentials:!1});this.total_pages=e.data.total_pages}catch{}},async changePage(e){this.actual_page=e,await this.fetchSlideshow()}},mounted(){this.getTotalPages(),this.fetchSlideshow()},components:{AdminTable:i}},g={class:"wrapper"},m={class:"wrapp"};function _(e,t,u,f,a,l){const o=r("AdminTable");return h(),n("div",g,[s("div",m,[t[0]||(t[0]=s("h1",null,"Slideshow",-1)),p(o,{onPage:l.changePage,columns:[{label:"ID",key:"idSlideshow"},{label:"Image",key:"img"},{label:"Image alt",key:"alt"},{label:"Link",key:"link"},{label:"Vytvorenie príspevku",key:"created_at"},{label:"Posledná úprava",key:"last_update"}],records:a.res,total_pages:a.total_pages,limit:a.limit,actual_page:a.actual_page},null,8,["onPage","records","total_pages","limit","actual_page"])])])}const k=c(d,[["render",_],["__scopeId","data-v-48cb29ca"]]);export{k as default};

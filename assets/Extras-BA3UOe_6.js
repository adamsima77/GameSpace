import{I as r}from"./ItemsShow-Jge1PpXO.js";import{_ as a,f as n,r as l,o as h}from"./index-DrA51BzS.js";import"./Item-DEkOmP5i.js";const c={data(){return{extras:[],currentPosition:null,loading:!1,offset:0,limit:15,allLoaded:!1,currentFilter:null}},methods:{async fetchExtras(t){try{if(this.loading||this.allLoaded)return;this.loading=!0;const e=await this.$axios.get("http://localhost/GameSpace/endpoints/fetch/fetch_extras.php",{params:{limit:this.limit,offset:this.offset,filter:t},withCredentials:!1});this.extras.push(...e.data),this.offset+=this.limit,e.data.length<this.limit&&(this.allLoaded=!0)}catch{}this.loading=!1},DetectPosition(){this.currentPosition=window.scrollY,this.currentPosition>=document.body.offsetHeight-50&&this.fetchExtras(this.currentFilter)},fetchWithFilter(t){this.extras=[],this.offset=0,this.allLoaded=!1,this.currentFilter=t,this.fetchExtras(this.currentFilter)}},components:{ItemsShow:r},mounted(){window.addEventListener("scroll",this.DetectPosition),this.fetchExtras(this.currentFilter)},beforeUnmount(){window.removeEventListener("scroll",this.DetectPosition)}};function d(t,e,f,p,o,i){const s=l("ItemsShow");return h(),n(s,{item:o.extras,title:"Doplnky",desc:`Dolaďte svoje zariadenie k dokonalosti. V našej ponuke nájdete široký výber doplnkov, ktoré zlepšia funkčnosť, pohodlie aj ochranu vašej techniky. Od káblov, adaptérov a obalov až po stojany, nabíjačky či ochranné prvky – všetko pre jednoduchšie a pohodlnejšie používanie každý deň. \r
    Vyberte si doplnky, ktoré spravia vaše zariadenie ešte lepším.`,"parent-route-name":"extras-detail",loading:o.loading,onFilterChange:i.fetchWithFilter},null,8,["item","loading","onFilterChange"])}const v=a(c,[["render",d]]);export{v as default};

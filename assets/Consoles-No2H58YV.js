import{I as n}from"./ItemsShow-mIO7d3Oz.js";import{_ as l,f as r,r as a,o as h}from"./index-DioUgQHd.js";import"./Item-C6WkvU7u.js";const c={data(){return{consoles:[],currentPosition:null,loading:!1,offset:0,limit:15,allLoaded:!1,currentFilter:null}},methods:{async fetchConsoles(t){try{if(this.loading||this.allLoaded)return;this.loading=!0;const e=await this.$axios.get("http://localhost/GameSpace/endpoints/fetch/fetch_consoles.php",{params:{limit:this.limit,offset:this.offset,filter:t},withCredentials:!1});this.consoles.push(...e.data),this.offset+=this.limit,e.data.length<this.limit&&(this.allLoaded=!0)}catch{}this.loading=!1},DetectPosition(){this.currentPosition=window.scrollY,this.currentPosition>=document.body.offsetHeight-50&&this.fetchConsoles(this.currentFilter)},fetchWithFilter(t){this.consoles=[],this.offset=0,this.allLoaded=!1,this.currentFilter=t,this.fetchConsoles(this.currentFilter)}},components:{ItemsShow:n},mounted(){window.addEventListener("scroll",this.DetectPosition),this.fetchConsoles(this.currentFilter)},beforeUnmount(){window.removeEventListener("scroll",this.DetectPosition)}};function d(t,e,f,m,o,s){const i=a("ItemsShow");return h(),r(i,{item:o.consoles,title:"Konzoly",desc:`Vstúpte do sveta špičkovej hernej zábavy. Herné konzoly ponúkajú plynulé hranie, exkluzívne tituly a nezabudnuteľné zážitky pre hráčov všetkých vekových kategórií. Či už hráte sami, s rodinou alebo online s priateľmi, konzoly vám prinesú maximálny výkon, jednoduché ovládanie a hodiny zábavy.\r
     Vyberte si konzolu, ktorá vás vtiahne do hry od prvého zapnutia.`,"parent-route-name":"consoles-detail",loading:o.loading,onFilterChange:s.fetchWithFilter},null,8,["item","loading","onFilterChange"])}const y=l(c,[["render",d]]);export{y as default};
